<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>桌球計分功能使用說明</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Microsoft JhengHei', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            text-align: center;
        }
        
        .header h1 {
            color: #2c3e50;
            font-size: 2.5em;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #e74c3c, #f39c12);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .header p {
            font-size: 1.2em;
            color: #666;
        }
        
        .content {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }
        
        .section {
            margin-bottom: 40px;
        }
        
        .section h2 {
            color: #2c3e50;
            font-size: 1.8em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #e74c3c;
            display: flex;
            align-items: center;
        }
        
        .section h2::before {
            content: "🏓";
            margin-right: 10px;
            font-size: 1.2em;
        }
        
        .section h3 {
            color: #34495e;
            font-size: 1.4em;
            margin: 25px 0 15px 0;
            padding-left: 15px;
            border-left: 4px solid #f39c12;
        }
        
        .screenshot {
            max-width: 100%;
            height: auto;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
            margin: 20px 0;
            border: 3px solid #ecf0f1;
        }
        
        .screenshot-container {
            text-align: center;
            margin: 30px 0;
            padding: 20px;
            background: linear-gradient(120deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 15px;
        }
        
        .screenshot-caption {
            color: #555;
            font-weight: bold;
            margin-top: 15px;
            font-size: 1.1em;
            background: rgba(255, 255, 255, 0.8);
            padding: 10px;
            border-radius: 8px;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 20px;
        }
        
        .feature-card {
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            border-radius: 15px;
            padding: 25px;
            border-left: 5px solid #e74c3c;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.15);
        }
        
        .feature-card h4 {
            color: #2c3e50;
            font-size: 1.2em;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
        }
        
        .feature-card h4::before {
            content: "▶";
            color: #e74c3c;
            margin-right: 8px;
            font-size: 0.9em;
        }
        
        .feature-card p, .feature-card li {
            color: #555;
            margin-bottom: 8px;
        }
        
        .feature-card ul {
            padding-left: 20px;
        }
        
        .highlight-box {
            background: linear-gradient(120deg, #fff3cd 0%, #ffeaa7 100%);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            border-left: 5px solid #f39c12;
            border: 2px solid #f1c40f;
        }
        
        .highlight-box h4 {
            color: #d68910;
            margin-bottom: 10px;
            font-size: 1.3em;
        }
        
        .warning-box {
            background: linear-gradient(120deg, #ffeaea 0%, #ffcdd2 100%);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            border-left: 5px solid #e74c3c;
            border: 2px solid #ff6b6b;
        }
        
        .warning-box h4 {
            color: #c0392b;
            margin-bottom: 10px;
            font-size: 1.3em;
        }
        
        .info-box {
            background: linear-gradient(120deg, #e3f2fd 0%, #bbdefb 100%);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            border-left: 5px solid #3498db;
            border: 2px solid #74b9ff;
        }
        
        .info-box h4 {
            color: #2980b9;
            margin-bottom: 10px;
            font-size: 1.3em;
        }
        
        .button-demo {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 8px 16px;
            border-radius: 50%;
            color: white;
            font-weight: bold;
            margin: 5px;
            text-align: center;
            min-width: 50px;
            min-height: 50px;
        }
        
        .btn-red { background: linear-gradient(45deg, #e74c3c, #c0392b); }
        .btn-green { background: linear-gradient(45deg, #27ae60, #16a085); }
        .btn-blue { background: linear-gradient(45deg, #3498db, #2980b9); }
        .btn-yellow { background: linear-gradient(45deg, #f1c40f, #f39c12); }
        .btn-gray { background: linear-gradient(45deg, #95a5a6, #7f8c8d); }
        
        .color-explanation {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .color-box {
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            color: white;
            font-weight: bold;
        }
        
        .score-display {
            font-size: 3em;
            font-weight: bold;
            text-align: center;
            margin: 20px 0;
            color: #2c3e50;
        }
        
        .operation-steps {
            counter-reset: step-counter;
        }
        
        .operation-steps li {
            counter-increment: step-counter;
            margin-bottom: 15px;
            padding-left: 40px;
            position: relative;
        }
        
        .operation-steps li::before {
            content: counter(step-counter);
            position: absolute;
            left: 0;
            top: 0;
            background: #e74c3c;
            color: white;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.9em;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .content {
                padding: 20px;
            }
            
            .feature-grid {
                grid-template-columns: 1fr;
            }
            
            .screenshot {
                max-width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🏓 桌球計分功能使用說明</h1>
            <p>雙打計分系統完整操作指南</p>
        </div>

        <div class="content">
            <!-- 系統介面概覽 -->
            <div class="section">
                <h2>系統介面概覽</h2>
                <div class="screenshot-container">
                    <img src="https://github.com/iceapp-maker/tball/blob/main/docs/images/double_game.png?raw=true" alt="雙打計分介面" class="screenshot">
                    <div class="screenshot-caption">圖：雙打計分系統主介面 - 四色區塊代表四位選手位置</div>
                </div>
                
                <p>雙打計分系統採用直觀的四色區塊設計，上方為<strong>紅色</strong>和<strong>綠色</strong>選手，下方為<strong>藍色</strong>和<strong>黃色</strong>選手。每個顏色區塊代表一位選手的位置，系統會根據桌球規則自動處理換邊和輪流發球。</p>
                
                <div class="info-box">
                    <h4>💡 重要提醒</h4>
                    <p><strong>單打計分功能</strong>的操作方式與雙打相同，介面更簡潔，僅顯示兩位選手。本說明書以雙打為主，單打使用者可參考相同的操作邏輯，不再重複說明。</p>
                </div>
            </div>

            <!-- 選手設定 -->
            <div class="section">
                <h2>選手設定與位置安排</h2>
                
                <h3>🎯 選擇選手</h3>
                <div class="feature-grid">
                    <div class="feature-card">
                        <h4>選手下拉選單</h4>
                        <div class="screenshot-container">
                            <img src="https://github.com/iceapp-maker/tball/blob/main/docs/images/player_list.png?raw=true" alt="選手清單排序" class="screenshot">
                            <div class="screenshot-caption">圖：選手下拉選單 - 系統自動將常用選手置前</div>
                        </div>
                        <p>每個顏色區塊上方都有選手選擇下拉選單，顯示格式為：</p>
                        <p><strong>選手姓名（積分/排名）</strong></p>
                        <ul>
                            <li><strong>智慧排序</strong>：系統自動將常用的選手名單置前，便於常用選手選取</li>
                            <li><strong>積分顯示</strong>：該選手的當前積分</li>
                            <li><strong>排名顯示</strong>：在團隊中的排名</li>
                            <li><strong>防重複選取</strong>：已被選用的選手在下拉式清單中呈現禁止選取狀態</li>
                            <li><strong>適用範圍</strong>：單打和雙打頁面都使用相同的優化排序</li>
                        </ul>
                    </div>
                    
                    <div class="feature-card">
                        <h4>位置對應說明</h4>
                        <div class="screenshot-container">
                            <img src="https://github.com/iceapp-maker/tball/blob/main/docs/images/color_position.png?raw=true" alt="位置對應圖" class="screenshot">
                            <div class="screenshot-caption">圖：四色區塊位置對應圖</div>
                        </div>
                    </div>
                </div>

                <h3>🔄 位置交換功能</h3>
                <div class="highlight-box">
                    <h4>⚠️ 交換功能使用時機</h4>
                    <p>位置交換按鈕只在<strong>比賽開始前</strong>（雙方分數都是0且無比賽記錄時）才會顯示，比賽開始後無法使用。</p>
                </div>

                <div class="feature-grid">
                    <div class="feature-card">
                        <h4>⇄ 左右交換</h4>
                        <p>位於上方紅綠區塊之間和下方藍黃區塊之間</p>
                        <ul>
                            <li><strong>上方交換</strong>：紅色⇄綠色選手對調</li>
                            <li><strong>下方交換</strong>：藍色⇄黃色選手對調</li>
                            <li>用於調整同隊選手的左右位置</li>
                        </ul>
                    </div>
                    
                    <div class="feature-card">
                        <h4>⇅ 上下交換</h4>
                        <p>位於中央，上下兩組之間</p>
                        <ul>
                            <li>整組交換：(紅,綠) ⇄ (藍,黃)</li>
                            <li>用於調整隊伍的場地位置</li>
                            <li>交換後系統會記錄位置狀態</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- 計分操作 -->
            <div class="section">
                <h2>計分操作方式</h2>
                
                <h3>➕ 加分操作</h3>
                <div class="feature-card">
                    <h4>點擊顏色區塊加分</h4>
                    <p>直接點擊任一顏色區塊（紅、綠、藍、黃）即可為該方加分：</p>
                    <ul>
                        <li><strong>上方得分</strong>：點擊紅色或綠色區塊</li>
                        <li><strong>下方得分</strong>：點擊藍色或黃色區塊</li>
                        <li>每次點擊增加1分</li>
                        <li>系統會自動播放得分音效</li>
                    </ul>
                </div>

                <h3>➖ 減分操作</h3>
                <div class="feature-card">
                    <h4>減分按鈕 <span class="button-demo btn-gray">－</span></h4>
                    <p>位於每方分數左側的圓形按鈕</p>
                    <ul>
                        <li><strong>誤觸修正</strong>：當使用者誤觸加分時可以使用，達到與實際比分相同</li>
                        <li><strong>任一方減分</strong>：記分者可以減少任一方的分數</li>
                        <li>分數為0時按鈕會變灰色禁用</li>
                        <li>系統會重新計算位置和發球權</li>
                    </ul>
                </div>
            </div>

            <!-- 顏色變換規則 -->
            <div class="section">
                <h2>顏色變換與換邊規則</h2>
                
                <h3>🎨 發球方指示</h3>
                <div class="info-box">
                    <h4>閃爍效果說明</h4>
                    <p>當前<strong>發球方</strong>的顏色區塊會有<strong>閃爍效果</strong>，這是視覺提示，讓選手清楚知道輪到哪一方發球。</p>
                </div>

                <div class="warning-box">
                    <h4>⚠️ 重要：顏色區塊跟著選手移動</h4>
                    <p>顏色對調就是選手移動。計分者（裁判）可以參考螢幕上的選手位置與實際是否相符，確保比賽進行的正確性。</p>
                </div>

                <div class="feature-grid">
                    <div class="feature-card">
                        <h4>一般模式換邊</h4>
                        <ul>
                            <li><strong>每2分交換發球權</strong>：總分為偶數時交換發球權</li>
                            <li><strong>平分(Deuce)規則</strong>：10:10後每分都要交換發球權</li>
                            <li>顏色位置會自動對調</li>
                            <li>閃爍指示會切換到對方</li>
                        </ul>
                    </div>
                    
                    <div class="feature-card">
                        <h4>決勝局特殊規則(FG)燈亮起</h4>
                        <ul>
                            <li><strong>比賽中任一方達5分時交換場地</strong></li>
                            <li><strong>任一方達5分時，若不用交換發球權</strong>：發球權方與隊友不調換位置，接球方與隊友需調換位置</li>
                            <li><strong>任一方達5分時，若需交換發球權</strong>：發球權方與隊友調換位置，接球方與隊友不需調換位置</li>
                            <li>之後回到一般換邊規則</li>
                            <li>FG按鈕會閃爍提醒特殊模式</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- FG模式說明 -->
            <div class="section">
                <h2>FG模式（決勝局）詳細說明</h2>
                
                <div class="highlight-box">
                    <h4>🎯 FG模式定義</h4>
                    <p><strong>FG (Final Game) 模式為決勝局的意思</strong>，預設為<strong>第5局</strong>自動觸發。使用者可以依賽制需求取消，或者延至第7局使用。</p>
                </div>

                <div class="feature-grid">
                    <div class="feature-card">
                        <h4>FG模式操作</h4>
                        <ul>
                            <li><strong>手動控制</strong>：可隨時點擊FG按鈕開啟/關閉</li>
                            <li><strong>視覺提醒</strong>：啟用時FG按鈕會閃爍</li>
                            <li><strong>音效提示</strong>：進入FG模式時會播放特殊音效</li>
                            <li><strong>適用時機</strong>：決勝局或關鍵局次</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- 快速勝負設定 -->
            <div class="section">
                <h2>快速勝負設定</h2>
                
                <h3>🏆 W按鈕快速獲勝</h3>
                <div class="screenshot-container">
                    <img src="https://github.com/iceapp-maker/tball/blob/main/docs/images/w_function.png?raw=true" alt="W按鈕功能圖" class="screenshot">
                    <div class="screenshot-caption">圖：W按鈕快速獲勝功能示意圖</div>
                </div>

                <div class="feature-grid">
                    <div class="feature-card">
                        <h4>W按鈕操作方式</h4>
                        <ul>
                            <li><strong>雙擊觸發</strong>：在任何一方點擊兩下W按鈕，即為那一方的那一局獲勝</li>
                            <li><strong>拖拽操作</strong>：將W按鈕拖拽至顏色區塊</li>
                            <li><strong>適用時機</strong>：因任何理由直接判定一方獲勝</li>
                        </ul>
                    </div>
                    
                    <div class="feature-card">
                        <h4>確認機制</h4>
                        <p>觸發W按鈕後會出現確認對話框：</p>
                        <ul>
                            <li>「確定要宣告○方獲勝嗎？」</li>
                            <li>選「確認」：該局記為W勝</li>
                            <li>選「取消」：繼續正常比賽</li>
                            <li>W勝會記錄在比賽歷史中</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- 計分顯示與記錄 -->
            <div class="section">
                <h2>計分顯示與記錄</h2>
                
                <h3>⭐ 勝場顯示</h3>
                <div class="screenshot-container">
                    <img src="https://github.com/iceapp-maker/tball/blob/main/docs/images/start_lable.png?raw=true" alt="星號勝場顯示" class="screenshot">
                    <div class="screenshot-caption">圖：顏色區塊上的星號代表該方的獲勝局數</div>
                </div>

                <div class="feature-card">
                    <h4>星號(★)表示勝場</h4>
                    <p>在顏色區塊上會顯示星號，代表該方的勝場數：</p>
                    <ul>
                        <li><strong>1勝</strong> = ★</li>
                        <li><strong>2勝</strong> = ★ ★</li>
                        <li><strong>3勝</strong> = ★ ★ ★</li>
                        <li>只在左側區塊（紅色/藍色）顯示</li>
                    </ul>
                </div>

                <h3>📊 中央計分板</h3>
                <div class="feature-card">
                    <h4>每局分數顯示</h4>
                    <p>使用加分模式完成比賽後，在中央區塊會顯示每局的詳細分數：</p>
                    <ul>
                        <li>顯示格式：上方分數 / 下方分數</li>
                        <li>標示局數：Game 1, Game 2...</li>
                        <li>W勝顯示為「W」和空白</li>
                        <li>最多顯示7局比賽記錄</li>
                    </ul>
                </div>

                <h3>💾 儲存功能</h3>
                <div class="highlight-box">
                    <h4>📝 儲存條件</h4>
                    <p>必須滿足以下條件才能儲存比賽結果：</p>
                    <ul>
                        <li>雙方至少有一方獲勝一局</li>
                        <li>四位選手都已選擇</li>
                        <li>尚未儲存過（避免重複儲存）</li>
                    </ul>
                </div>

                <div class="feature-grid">
                    <div class="feature-card">
                        <h4>儲存按鈕狀態</h4>
                        <ul>
                            <li><strong>可儲存</strong>：藍色按鈕「儲存」</li>
                            <li><strong>已儲存</strong>：灰色按鈕，無法再按</li>
                            <li><strong>條件不足</strong>：灰色按鈕，顯示提示</li>
                        </ul>
                    </div>
                    
                    <div class="feature-card">
                        <h4>儲存後選項</h4>
                        <p>成功儲存後會出現選擇對話框：</p>
                        <ul>
                            <li><strong>結束</strong>：清空所有資料，回到初始狀態</li>
                            <li><strong>再來一盤</strong>：保留選手，交換位置重新開始</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- 特殊功能 -->
            <div class="section">
                <h2>特殊功能說明</h2>
                
                <h3>🎮 功能按鈕</h3>
                <div class="feature-grid">
                    <div class="feature-card">
                        <h4>重置按鈕 🔄</h4>
                        <ul>
                            <li>比賽中：重置當局分數</li>
                            <li>局結束後：開始下一局</li>
                            <li>清除當局所有記錄</li>
                        </ul>
                    </div>
                    
                    <div class="feature-card">
                        <h4>音效按鈕 🔊/🔇</h4>
                        <ul>
                            <li>開關所有音效</li>
                            <li>包含得分、換邊、結束等音效</li>
                            <li>設定會保存到下次使用</li>
                        </ul>
                    </div>
                    
                    <div class="feature-card">
                        <h4>來源標示</h4>
                        <ul>
                            <li><strong>C標示</strong>：一般挑戰賽模式</li>
                            <li><strong>R標示</strong>：正式賽程模式</li>
                            <li>不同模式有不同的儲存規則</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- 操作流程 -->
            <div class="section">
                <h2>完整操作流程</h2>
                
                <div class="info-box">
                    <h4>📋 標準操作步驟</h4>
                    <ol class="operation-steps">
                        <li><strong>選擇選手</strong>(視需求)：即使不選擇四位選手也可計分</li>
                        <li><strong>調整位置</strong>（如需要）：使用交換按鈕調整選手位置</li>
                        <li><strong>設定FG模式</strong>（如需要）：預設第5局為決勝局，可根據賽制調整</li>
                        <li><strong>開始比賽</strong>：點擊顏色區塊為獲分方加分</li>
                        <li><strong>注意換邊</strong>：觀察閃爍提示，了解當前發球方</li>
                        <li><strong>系統不判定那一局為最終局，比賽結束時由使用者於最終局按下儲存結果</strong></li>
                    </ol>
                </div>
            </div>

            <!-- 常見問題 -->
            <div class="section">
                <h2>常見問題與注意事項</h2>
                
                <div class="feature-grid">
                    <div class="feature-card">
                        <h4>❓ 選手選擇問題</h4>
                        <ul>
                            <li><strong>問</strong>：為什麼某些選手無法選擇？</li>
                            <li><strong>答</strong>：已被選用的選手會自動禁用，避免重複選取</li>
                            <li><strong>問</strong>：選手清單順序是如何排列的？</li>
                            <li><strong>答</strong>：系統會自動將常用選手置前，方便快速選取</li>
                        </ul>
                    </div>
                    
                    <div class="feature-card">
                        <h4>❓ 計分規則問題</h4>
                        <ul>
                            <li><strong>問</strong>：什麼時候會自動交換發球權？</li>
                            <li><strong>答</strong>：每2分交換一次，平分後每分都交換</li>
                            <li><strong>問</strong>：FG模式有什麼特殊規則？</li>
                            <li><strong>答</strong>：任一方達5分時會執行特殊的位置調整</li>
                        </ul>
                    </div>
                    
                    <div class="feature-card">
                        <h4>❓ 操作技巧</h4>
                        <ul>
                            <li><strong>建議</strong>：比賽前先調整好選手位置</li>
                            <li><strong>建議</strong>：注意觀察閃爍提示確認發球方</li>
                            <li><strong>建議</strong>：使用音效可以更好地掌握比賽節奏</li>
                            <li><strong>建議</strong>：善用W按鈕處理特殊情況</li>
                        </ul>
                    </div>
                    
                    <div class="feature-card">
                        <h4>❓ 儲存相關</h4>
                        <ul>
                            <li><strong>注意</strong>：確保所有選手都已選擇再儲存</li>
                            <li><strong>注意</strong>：每場比賽只能儲存一次</li>
                            <li><strong>注意</strong>：儲存後可選擇結束或繼續下一盤</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- 版本資訊 -->
            <div class="section">
                <h2>版本更新資訊</h2>
                
                <div class="info-box">
                    <h4>📝 最新更新</h4>
                    <ul>
                        <li><strong>選手清單優化</strong>：新增智慧排序功能，常用選手自動置前</li>
                        <li><strong>適用範圍</strong>：單打和雙打頁面都支援新的排序邏輯</li>
                        <li><strong>使用體驗</strong>：大幅提升選手選取的便利性</li>
                    </ul>
                </div>
                
                <div class="highlight-box">
                    <h4>💡 使用建議</h4>
                    <p>新的選手清單排序功能會根據選手的比賽活躍度自動調整順序，經常參與比賽的選手會優先顯示在下拉選單的前面，讓記分員能夠更快速地找到並選擇選手。</p>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
